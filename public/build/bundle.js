var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let l,a;function c(e,t){return l||(l=document.createElement("a")),l.href=t,e===l.href}function i(e,t,n,o){if(e){const r=d(e,t,n,o);return e[0](r)}}function d(e,t,n,o){return e[1]&&o?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](o(t))):n.ctx}function u(e,t,n,o){if(e[2]&&o){const r=e[2](o(n));if(void 0===t.dirty)return r;if("object"==typeof r){const e=[],n=Math.max(t.dirty.length,r.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|r[o];return e}return t.dirty|r}return t.dirty}function p(e,t,n,o,r,s){if(r){const l=d(t,n,o,s);e.p(l,r)}}function f(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function m(e){return null==e?"":e}function g(e,t){e.appendChild(t)}function h(e,t,n){e.insertBefore(t,n||null)}function $(e){e.parentNode.removeChild(e)}function E(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function _(e){return document.createElement(e)}function b(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function N(e){return document.createTextNode(e)}function S(){return N(" ")}function y(){return N("")}function w(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function O(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function x(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function v(e,t){e.value=null==t?"":t}function T(e){a=e}function C(e){(function(){if(!a)throw new Error("Function called outside component initialization");return a})().$$.on_mount.push(e)}const A=[],R=[],P=[],I=[],k=Promise.resolve();let D=!1;function H(e){P.push(e)}let U=!1;const L=new Set;function W(){if(!U){U=!0;do{for(let e=0;e<A.length;e+=1){const t=A[e];T(t),G(t.$$)}for(T(null),A.length=0;R.length;)R.pop()();for(let e=0;e<P.length;e+=1){const t=P[e];L.has(t)||(L.add(t),t())}P.length=0}while(A.length);for(;I.length;)I.pop()();D=!1,U=!1,L.clear()}}function G(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(H)}}const j=new Set;let z;function M(){z={r:0,c:[],p:z}}function B(){z.r||o(z.c),z=z.p}function K(e,t){e&&e.i&&(j.delete(e),e.i(t))}function q(e,t,n,o){if(e&&e.o){if(j.has(e))return;j.add(e),z.c.push((()=>{j.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}function V(e){e&&e.c()}function Y(e,n,s,l){const{fragment:a,on_mount:c,on_destroy:i,after_update:d}=e.$$;a&&a.m(n,s),l||H((()=>{const n=c.map(t).filter(r);i?i.push(...n):o(n),e.$$.on_mount=[]})),d.forEach(H)}function J(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function X(e,t){-1===e.$$.dirty[0]&&(A.push(e),D||(D=!0,k.then(W)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function F(t,r,s,l,c,i,d,u=[-1]){const p=a;T(t);const f=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(p?p.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:r.target||p.$$.root};d&&d(f.root);let m=!1;if(f.ctx=s?s(t,r.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&c(f.ctx[e],f.ctx[e]=r)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](r),m&&X(t,e)),n})):[],f.update(),m=!0,o(f.before_update),f.fragment=!!l&&l(f.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);f.fragment&&f.fragment.l(e),e.forEach($)}else f.fragment&&f.fragment.c();r.intro&&K(t.$$.fragment),Y(t,r.target,r.anchor,r.customElement),W()}T(p)}class Q{$destroy(){J(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Z={apiKey:"AIzaSyCLFYV8XdBeK93FUvPfy_DtJUppBW-rfeo",authDomain:"collaborative-notes-40556.firebaseapp.com",projectId:"collaborative-notes-40556",storageBucket:"collaborative-notes-40556.appspot.com",messagingSenderId:"839274914110",appId:"1:839274914110:web:d831824d64d0aba8cc8c6f"};Object.freeze(Z),firebase.initializeApp(Z);const ee=()=>{firebase.auth().signOut()},te=firebase.auth();function ne(t){let n,o;return{c(){n=_("div"),o=N(t[0]),O(n,"class","badge flex justify-space-between align-center bg-white max-width p-t-5 p-b-5 p-l-20 p-r-20 border-radius-25 badge-shadow")},m(e,t){h(e,n,t),g(n,o)},p(e,[t]){1&t&&x(o,e[0])},i:e,o:e,d(e){e&&$(n)}}}function oe(e,t,n){let{label:o}=t;return e.$$set=e=>{"label"in e&&n(0,o=e.label)},[o]}class re extends Q{constructor(e){super(),F(this,e,oe,ne,s,{label:0})}}function se(t){let n,o,r;return{c(){n=_("img"),O(n,"class",o=m(t[3])+" svelte-1s93igk"),O(n,"data-type",t[0]),c(n.src,r=t[2])||O(n,"src",r),O(n,"alt",t[1])},m(e,t){h(e,n,t)},p(e,[t]){8&t&&o!==(o=m(e[3])+" svelte-1s93igk")&&O(n,"class",o),1&t&&O(n,"data-type",e[0]),4&t&&!c(n.src,r=e[2])&&O(n,"src",r),2&t&&O(n,"alt",e[1])},i:e,o:e,d(e){e&&$(n)}}}function le(e,t,n){let{type:o}=t,{alt:r}=t,{src:s}=t,{classes:l}=t;return e.$$set=e=>{"type"in e&&n(0,o=e.type),"alt"in e&&n(1,r=e.alt),"src"in e&&n(2,s=e.src),"classes"in e&&n(3,l=e.classes)},[o,r,s,l]}class ae extends Q{constructor(e){super(),F(this,e,le,se,s,{type:0,alt:1,src:2,classes:3})}}function ce(e){let t,n;return{c(){t=_("label"),n=N(e[3]),O(t,"class","text-bold block"),O(t,"for",e[2])},m(e,o){h(e,t,o),g(t,n)},p(e,o){8&o&&x(n,e[3]),4&o&&O(t,"for",e[2])},d(e){e&&$(t)}}}function ie(e){let t,n,o,s;return{c(){t=_("input"),O(t,"class",n="border-radius-5 border-color-secondary m-t-5 m-b-5 p-l-16 p-r-16 p-t-10 p-b-10 bg-white border-solid-1 "+e[7]+" svelte-1k2yey8"),O(t,"type","text"),O(t,"name",e[2]),O(t,"placeholder",e[4])},m(n,l){h(n,t,l),o||(s=w(t,"keyup",(function(){r(e[6])&&e[6].apply(this,arguments)})),o=!0)},p(o,r){e=o,128&r&&n!==(n="border-radius-5 border-color-secondary m-t-5 m-b-5 p-l-16 p-r-16 p-t-10 p-b-10 bg-white border-solid-1 "+e[7]+" svelte-1k2yey8")&&O(t,"class",n),4&r&&O(t,"name",e[2]),16&r&&O(t,"placeholder",e[4])},d(e){e&&$(t),o=!1,s()}}}function de(e){let t,n,o,s;return{c(){t=_("input"),O(t,"class",n="border-radius-5 border-color-secondary m-t-5 m-b-5 p-l-16 p-r-16 p-t-10 p-b-10 bg-white border-solid-1 "+e[7]+" svelte-1k2yey8"),O(t,"type","password"),O(t,"name",e[2])},m(n,l){h(n,t,l),o||(s=w(t,"change",(function(){r(e[5])&&e[5].apply(this,arguments)})),o=!0)},p(o,r){e=o,128&r&&n!==(n="border-radius-5 border-color-secondary m-t-5 m-b-5 p-l-16 p-r-16 p-t-10 p-b-10 bg-white border-solid-1 "+e[7]+" svelte-1k2yey8")&&O(t,"class",n),4&r&&O(t,"name",e[2])},d(e){e&&$(t),o=!1,s()}}}function ue(e){let t,n,o,s;return{c(){t=_("input"),O(t,"class",n="border-radius-5 border-color-secondary m-t-5 m-b-5 p-l-16 p-r-16 p-t-10 p-b-10 bg-white border-solid-1 "+e[7]+" svelte-1k2yey8"),O(t,"type","email"),O(t,"name",e[2])},m(n,l){h(n,t,l),o||(s=w(t,"change",(function(){r(e[5])&&e[5].apply(this,arguments)})),o=!0)},p(o,r){e=o,128&r&&n!==(n="border-radius-5 border-color-secondary m-t-5 m-b-5 p-l-16 p-r-16 p-t-10 p-b-10 bg-white border-solid-1 "+e[7]+" svelte-1k2yey8")&&O(t,"class",n),4&r&&O(t,"name",e[2])},d(e){e&&$(t),o=!1,s()}}}function pe(t){let n,o,r=t[0]&&ce(t);function s(e,t){return"email"===e[1]?ue:"password"===e[1]?de:"text"===e[1]?ie:void 0}let l=s(t),a=l&&l(t);return{c(){r&&r.c(),n=S(),a&&a.c(),o=y()},m(e,t){r&&r.m(e,t),h(e,n,t),a&&a.m(e,t),h(e,o,t)},p(e,[t]){e[0]?r?r.p(e,t):(r=ce(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null),l===(l=s(e))&&a?a.p(e,t):(a&&a.d(1),a=l&&l(e),a&&(a.c(),a.m(o.parentNode,o)))},i:e,o:e,d(e){r&&r.d(e),e&&$(n),a&&a.d(e),e&&$(o)}}}function fe(e,t,n){let{hasLabel:o=!1}=t,{type:r}=t,{name:s}=t,{label:l}=t,{placeholder:a}=t,{onChange:c}=t,{onKeyUp:i}=t,{classes:d=""}=t;return e.$$set=e=>{"hasLabel"in e&&n(0,o=e.hasLabel),"type"in e&&n(1,r=e.type),"name"in e&&n(2,s=e.name),"label"in e&&n(3,l=e.label),"placeholder"in e&&n(4,a=e.placeholder),"onChange"in e&&n(5,c=e.onChange),"onKeyUp"in e&&n(6,i=e.onKeyUp),"classes"in e&&n(7,d=e.classes)},[o,r,s,l,a,c,i,d]}class me extends Q{constructor(e){super(),F(this,e,fe,pe,s,{hasLabel:0,type:1,name:2,label:3,placeholder:4,onChange:5,onKeyUp:6,classes:7})}}function ge(t){let n,o,s,l,a;return{c(){n=_("button"),o=N(t[0]),O(n,"data-type",t[2]),O(n,"class",s="border-radius-5 p-t-10 p-b-10 p-l-10 p-r-10 m-r-025-em border-solid-1 "+t[3]+" svelte-4xxnoh")},m(e,s){h(e,n,s),g(n,o),l||(a=w(n,"click",(function(){r(t[1])&&t[1].apply(this,arguments)})),l=!0)},p(e,[r]){t=e,1&r&&x(o,t[0]),4&r&&O(n,"data-type",t[2]),8&r&&s!==(s="border-radius-5 p-t-10 p-b-10 p-l-10 p-r-10 m-r-025-em border-solid-1 "+t[3]+" svelte-4xxnoh")&&O(n,"class",s)},i:e,o:e,d(e){e&&$(n),l=!1,a()}}}function he(e,t,n){let{label:o}=t,{onClick:r}=t,{type:s}=t,{classes:l}=t;return e.$$set=e=>{"label"in e&&n(0,o=e.label),"onClick"in e&&n(1,r=e.onClick),"type"in e&&n(2,s=e.type),"classes"in e&&n(3,l=e.classes)},[o,r,s,l]}class $e extends Q{constructor(e){super(),F(this,e,he,ge,s,{label:0,onClick:1,type:2,classes:3})}}const Ee="##",_e={},be="⬜",Ne="✅",Se="◼️",ye="[##]",we="[**]",Oe="[..]",xe=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ve={BASE_ENDPOINT:"https://collab-notes-one-developer-edition.ap27.force.com/services/apexrest/api/",ENDPOINTS:{getAllNotes:"getAllNotes",createNote:"createNewNote",deleteNote:"deleteNote",updateNoteTitle:"updateNoteTitle",updateNoteContent:"updateNoteContent",requestAccess:"requestAccess"}},Te={LOGIN_SUCESS:"login sucessfully!",GENERIC_ERROR_MSG:"something went wrong!",NOTE_SAVE_SUCCESS:"Note saved successfully",TEXT_COPY_SUCCESS:"text copied!",NOTE_DELETE_SUCEESS:"Note deleted successfully.",ENTER_EMAIL:"Please enter your email",ENTER_PASSWORD:"Please enter your Password",INVALID_CREDS:"Invalid Email or Password.",REQUEST_SUCCESS:"Your request is successfully submitted."},Ce=[{key:"Alt + s",task:" to save your note."},{key:"Alt + n",task:" to create new note."},{key:"Alt + f",task:" to search your notes."}];Object.freeze(ve),Object.freeze(Te),Object.freeze(Ce);const Ae={},Re={SELECT_NOTE:"SELECT_NOTE",DELETE_NOTE:"DELETE_NOTE",NOTE_NAME_CHANGE:"NOTE_NAME_CHANGE",OPEN_POPUP:"OPEN_POPUP",NOTE_AREA_STATUS_CHANGE:"NOTE_AREA_STATUS",NOTE_AREA_KEY_UP:"NOTE_AREA_KEY_UP",NOTE_AREA_KEY_DOWN:"NOTE_AREA_KEY_DOWN",NEW_NOTE:"NEW_NOTE",SAVE_NOTE:"SAVE_NOTE",USER_SIGNOUT:"USER_SIGNOUT",USER_LOGIN:"USER_LOGIN",CLOSE_POPUP:"CLOSE_POPUP",SEARCH_NOTE:"SEARCH_NOTE",SHOW_SPINNER:"SHOW_SPINNER",HIDE_SPINNER:"HIDE_SPINNER",SHOW_TOAST:"SHOW_TOAST",HIDE_TOAST:"HIDE_TOAST",USER_ACCESS_APP:"USER_ACCESS_APP",DOWNLOAD_NOTE:"DOWNLOAD_NOTE"};Object.freeze(Re);const Pe=(e,t)=>{Ae[e]||(Ae[e]=[]);Ae[e].find((e=>e.callback===t))||Ae[e].push({callback:t})},Ie=(e,t)=>{if(Ae[e]){Ae[e].forEach((n=>{try{n.callback.call(void 0,t)}catch(o){window.quick_notes.config.debug_mode&&console.error("@eventName : ",e)&&console.error("@listener : ",n)&&console.error("@payload : ",t)&&console.error("@error : ",o)}}))}};function ke(t){let n,o,r,s,l,a,c,i,d,u,p,f,m,E,b,N,y,w,x,v,T,C,A,R;return s=new ae({props:{classes:"m-l-4 m-r-4",src:"logo.svg",alt:"logo",type:"logo"}}),u=new me({props:{name:"email",type:"email",label:"Email",hasLabel:!0,onChange:t[2]}}),m=new me({props:{name:"password",type:"password",label:"Password",hasLabel:!0,onChange:t[2]}}),N=new $e({props:{classes:"text-bold",onClick:t[0],label:"Login",type:"primary"}}),A=new $e({props:{classes:"text-bold",onClick:t[1],label:"Request Access",type:"tertiary"}}),{c(){n=_("div"),o=_("div"),r=_("div"),V(s.$$.fragment),l=S(),a=_("span"),a.textContent="Quick Notes",c=S(),i=_("div"),d=_("div"),V(u.$$.fragment),p=S(),f=_("div"),V(m.$$.fragment),E=S(),b=_("div"),V(N.$$.fragment),y=S(),w=_("br"),x=S(),v=_("span"),v.textContent="Don't have an Account?",T=S(),C=_("div"),V(A.$$.fragment),O(a,"class","text-medium text-boldest text-primary"),O(r,"class","flex align-center"),O(d,"class","flex flex-column w-90-p p-t-10 p-b-10 p-l-16 p-r-16"),O(f,"class","flex flex-column w-90-p p-t-10 p-b-10 p-l-16 p-r-16"),O(b,"class","flex flex-column w-90-p p-t-10 p-b-10 p-l-16 p-r-16"),O(v,"class","text-primary text-bold"),O(C,"class","flex flex-column w-90-p p-t-10 p-b-10 p-l-16 p-r-16"),O(i,"class","flex justify-center flex-column align-center m-t-30 w-90-p"),O(o,"class","login-form border-radius-5 flex justify-center align-center flex-column bg-white p-t-10 p-b-10 svelte-1f4l83h"),O(n,"class","flex justify-center align-center grow form svelte-1f4l83h")},m(e,t){h(e,n,t),g(n,o),g(o,r),Y(s,r,null),g(r,l),g(r,a),g(o,c),g(o,i),g(i,d),Y(u,d,null),g(i,p),g(i,f),Y(m,f,null),g(i,E),g(i,b),Y(N,b,null),g(i,y),g(i,w),g(i,x),g(i,v),g(i,T),g(i,C),Y(A,C,null),R=!0},p:e,i(e){R||(K(s.$$.fragment,e),K(u.$$.fragment,e),K(m.$$.fragment,e),K(N.$$.fragment,e),K(A.$$.fragment,e),R=!0)},o(e){q(s.$$.fragment,e),q(u.$$.fragment,e),q(m.$$.fragment,e),q(N.$$.fragment,e),q(A.$$.fragment,e),R=!1},d(e){e&&$(n),J(s),J(u),J(m),J(N),J(A)}}}function De(e){let t={email:"",password:""};return[()=>{t.email&&t.password?(Ie(Re.SHOW_SPINNER,{}),Ie(Re.USER_LOGIN,t)):window.quick_notes.config.debug_mode&&console.error("Please provide Email and Password")},()=>{const e=prompt("Please enter your email");e&&(xe.test(String(e).toLowerCase())?(Ie(Re.SHOW_SPINNER,{}),Ie(Re.USER_ACCESS_APP,{email:e})):alert("invalid email address"))},e=>{t[e.target.name]=e.target.value}]}class He extends Q{constructor(e){super(),F(this,e,De,ke,s,{})}}function Ue(t){let n,o,r,s,l,a;return o=new He({}),o.$on("sign_in",t[0]),l=new re({props:{label:"Suban Khoja"}}),{c(){n=_("div"),V(o.$$.fragment),r=S(),s=_("div"),V(l.$$.fragment),O(s,"class","fixed right-10 top-10"),O(n,"class","flex flex-column height-full")},m(e,t){h(e,n,t),Y(o,n,null),g(n,r),g(n,s),Y(l,s,null),a=!0},p:e,i(e){a||(K(o.$$.fragment,e),K(l.$$.fragment,e),a=!0)},o(e){q(o.$$.fragment,e),q(l.$$.fragment,e),a=!1},d(e){e&&$(n),J(o),J(l)}}}function Le(e){const t=e=>{Ie(Re.SHOW_SPINNER,{});((e,t)=>firebase.auth().signInWithEmailAndPassword(e,t))(e.email,e.password).then((e=>{})).catch((e=>{Ie(Re.HIDE_SPINNER,{}),Ie(Re.SHOW_TOAST,{message:Te.INVALID_CREDS})}))},n=e=>{var t;Ie(Re.SHOW_SPINNER,{}),(t=e.email,fetch(ve.BASE_ENDPOINT+ve.ENDPOINTS.requestAccess,{method:"POST",body:window.btoa(JSON.stringify({email:t}))}).then((e=>e.json())).catch((e=>{window.quick_notes.config.debug_mode&&console.error("createNewNote : ",e)}))).then((e=>{e&&e.success?Ie(Re.SHOW_TOAST,{message:Te.REQUEST_SUCCESS}):Ie(Re.SHOW_TOAST,{message:Te.GENERIC_ERROR_MSG}),Ie(Re.HIDE_SPINNER,{})})).catch((e=>{Ie(Re.SHOW_TOAST,{message:Te.GENERIC_ERROR_MSG}),Ie(Re.HIDE_SPINNER,{})}))};return C((()=>{Pe(Re.USER_LOGIN,t),Pe(Re.USER_ACCESS_APP,n)})),[t]}class We extends Q{constructor(e){super(),F(this,e,Le,Ue,s,{})}}function Ge(e){let t,n,o,s,l;const a=e[3].default,c=i(a,e,e[2],null);return{c(){t=_("span"),n=b("svg"),c&&c.c(),O(n,"viewBox","0 0 24 24"),O(n,"class","w-20-px h-20-px p-t-4 p-b-4 p-l-4 p-r-4 border-radius-5 bg-primary"),O(t,"title",e[0]),O(t,"class","p-l-10 p-r-10 pointer")},m(a,i){h(a,t,i),g(t,n),c&&c.m(n,null),o=!0,s||(l=w(t,"click",(function(){r(e[1])&&e[1].apply(this,arguments)})),s=!0)},p(n,[r]){e=n,c&&c.p&&(!o||4&r)&&p(c,a,e,e[2],o?u(a,e[2],r,null):f(e[2]),null),(!o||1&r)&&O(t,"title",e[0])},i(e){o||(K(c,e),o=!0)},o(e){q(c,e),o=!1},d(e){e&&$(t),c&&c.d(e),s=!1,l()}}}function je(e,t,n){let{$$slots:o={},$$scope:r}=t,{title:s}=t,{OnClick:l}=t;return e.$$set=e=>{"title"in e&&n(0,s=e.title),"OnClick"in e&&n(1,l=e.OnClick),"$$scope"in e&&n(2,r=e.$$scope)},[s,l,r,o]}class ze extends Q{constructor(e){super(),F(this,e,je,Ge,s,{title:0,OnClick:1})}}function Me(e){let t,n;return t=new ze({props:{title:"Help & Shortcuts",OnClick:e[5],$$slots:{default:[Be]},$$scope:{ctx:e}}}),{c(){V(t.$$.fragment)},m(e,o){Y(t,e,o),n=!0},p(e,n){const o={};128&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(K(t.$$.fragment,e),n=!0)},o(e){q(t.$$.fragment,e),n=!1},d(e){J(t,e)}}}function Be(e){let t;return{c(){t=b("path"),O(t,"fill","currentColor"),O(t,"fill-rule","evenodd"),O(t,"d","M18 7a1 1 0 0 1 1 1v11a3 3 0 0 1-3 3H8a3 3 0 0 1-3-3V8a1 1 0 1 1 2 0v11a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V8a1 1 0 0 1 1-1zm-8 2a1 1 0 0 1 1 1v6a1 1 0 0 1-2 0v-6a1 1 0 0 1 1-1zm4 0a1 1 0 0 1 1 1v6a1 1 0 0 1-2 0v-6a1 1 0 0 1 1-1zm1-7a1 1 0 0 1 1 1v1h4a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2h4V3a1 1 0 0 1 1-1h6z")},m(e,n){h(e,t,n)},d(e){e&&$(t)}}}function Ke(e){let t,n,o,r,s,l,a,c,i=e[3]&&Me(e);return{c(){t=_("li"),n=_("span"),o=N(e[0]),r=S(),i&&i.c(),O(n,"class","width-90 max-w-90 pointer text-x-medium"),O(t,"id",e[1]),O(t,"class",s="note-item p-t-8 p-b-8 p-r-10 p-l-10 no-border text-primary pointer flex align-center height-24 justify-space-between border-radius-5 "+(e[2]?"active":""))},m(s,d){h(s,t,d),g(t,n),g(n,o),g(t,r),i&&i.m(t,null),l=!0,a||(c=w(n,"click",e[4]),a=!0)},p(e,[n]){(!l||1&n)&&x(o,e[0]),e[3]?i?(i.p(e,n),8&n&&K(i,1)):(i=Me(e),i.c(),K(i,1),i.m(t,null)):i&&(M(),q(i,1,1,(()=>{i=null})),B()),(!l||2&n)&&O(t,"id",e[1]),(!l||4&n&&s!==(s="note-item p-t-8 p-b-8 p-r-10 p-l-10 no-border text-primary pointer flex align-center height-24 justify-space-between border-radius-5 "+(e[2]?"active":"")))&&O(t,"class",s)},i(e){l||(K(i),l=!0)},o(e){q(i),l=!1},d(e){e&&$(t),i&&i.d(),a=!1,c()}}}function qe(e,t,n){let{note_name:o}=t,{note_id:r}=t,{active:s=!1}=t,{showDelete:l=!1}=t,{type:a}=t;return e.$$set=e=>{"note_name"in e&&n(0,o=e.note_name),"note_id"in e&&n(1,r=e.note_id),"active"in e&&n(2,s=e.active),"showDelete"in e&&n(3,l=e.showDelete),"type"in e&&n(6,a=e.type)},[o,r,s,l,()=>{Ie(Re.SELECT_NOTE,{type:a,note_id:r,note_name:o})},()=>{Ie(Re.DELETE_NOTE,{id:r})},a]}class Ve extends Q{constructor(e){super(),F(this,e,qe,Ke,s,{note_name:0,note_id:1,active:2,showDelete:3,type:6})}}function Ye(e,t,n){const o=e.slice();return o[2]=t[n],o}function Je(e){let t,n;return t=new Ve({props:{note_name:e[2].title,note_id:e[2].id,active:e[2].id===e[1].id,type:"SIDEBAR",showDelete:!0}}),{c(){V(t.$$.fragment)},m(e,o){Y(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.note_name=e[2].title),1&n&&(o.note_id=e[2].id),3&n&&(o.active=e[2].id===e[1].id),t.$set(o)},i(e){n||(K(t.$$.fragment,e),n=!0)},o(e){q(t.$$.fragment,e),n=!1},d(e){J(t,e)}}}function Xe(e){let t,n,o,r,s,l,a,c,i,d,u;o=new ae({props:{classes:"m-l-4 m-r-4",src:"logo.svg",alt:"logo",type:"logo"}});let p=e[0],f=[];for(let t=0;t<p.length;t+=1)f[t]=Je(Ye(e,p,t));const m=e=>q(f[e],1,1,(()=>{f[e]=null}));return{c(){t=_("div"),n=_("header"),V(o.$$.fragment),r=S(),s=_("span"),s.textContent="Quick Notes",l=S(),a=_("ul");for(let e=0;e<f.length;e+=1)f[e].c();c=S(),i=_("footer"),d=_("span"),d.textContent=`${te.currentUser.email}`,O(s,"class","text-medium text-boldest text-primary"),O(n,"class","header text-primary text-bold border-box flex align-center p-t-10 p-b-5 p-l-8"),O(a,"class","p-l-10 p-r-10 min-h-85 height-85"),O(d,"class","bg-primary text-bold text-underline"),O(i,"class","flex justify-center align-center flex-column width-100 absolute bottom-5"),O(t,"class","sidebar height-full absolute bg-secondary border-box svelte-u88fl8")},m(e,p){h(e,t,p),g(t,n),Y(o,n,null),g(n,r),g(n,s),g(t,l),g(t,a);for(let e=0;e<f.length;e+=1)f[e].m(a,null);g(t,c),g(t,i),g(i,d),u=!0},p(e,[t]){if(3&t){let n;for(p=e[0],n=0;n<p.length;n+=1){const o=Ye(e,p,n);f[n]?(f[n].p(o,t),K(f[n],1)):(f[n]=Je(o),f[n].c(),K(f[n],1),f[n].m(a,null))}for(M(),n=p.length;n<f.length;n+=1)m(n);B()}},i(e){if(!u){K(o.$$.fragment,e);for(let e=0;e<p.length;e+=1)K(f[e]);u=!0}},o(e){q(o.$$.fragment,e),f=f.filter(Boolean);for(let e=0;e<f.length;e+=1)q(f[e]);u=!1},d(e){e&&$(t),J(o),E(f,e)}}}function Fe(e,t,n){let{notes:o=[]}=t,{selectedNote:r}=t;return e.$$set=e=>{"notes"in e&&n(0,o=e.notes),"selectedNote"in e&&n(1,r=e.selectedNote)},[o,r]}class Qe extends Q{constructor(e){super(),F(this,e,Fe,Xe,s,{notes:0,selectedNote:1})}}function Ze(e){let t,n,r,s,l,a,c,i,d;return{c(){t=_("div"),n=_("header"),r=_("span"),s=N(e[2]),a=S(),c=_("textarea"),O(r,"class",l="note-name w-90 max-w-90 pointer text-large "+(e[3]?"unsaved":"")+" svelte-ve8iit"),O(n,"class","text-primary text-bold flex p-t-8 p-b-8 p-l-8 p-r-8 border-box flex-space-between align-center"),O(c,"class","m-t-1-em border-box no-border text-x-medium m-l-50 no-resize no-outline height-85 svelte-ve8iit"),O(t,"class","note-container absolute bg-white height-full border-box z-index--1 m-l-400 svelte-ve8iit")},m(o,l){h(o,t,l),g(t,n),g(n,r),g(r,s),g(t,a),g(t,c),v(c,e[0]),i||(d=[w(r,"click",e[4]),w(c,"keydown",e[7]),w(c,"keyup",e[6]),w(c,"input",e[8]),w(c,"focus",e[5]),w(c,"blur",e[5])],i=!0)},p(e,t){4&t&&x(s,e[2]),8&t&&l!==(l="note-name w-90 max-w-90 pointer text-large "+(e[3]?"unsaved":"")+" svelte-ve8iit")&&O(r,"class",l),1&t&&v(c,e[0])},d(e){e&&$(t),i=!1,o(d)}}}function et(t){let n,o=t[1]&&Ze(t);return{c(){o&&o.c(),n=y()},m(e,t){o&&o.m(e,t),h(e,n,t)},p(e,[t]){e[1]?o?o.p(e,t):(o=Ze(e),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:e,o:e,d(e){o&&o.d(e),e&&$(n)}}}function tt(e,t,n){let{show:o}=t,{noteName:r=""}=t,{content:s}=t,{isContentChanged:l=!1}=t;return e.$$set=e=>{"show"in e&&n(1,o=e.show),"noteName"in e&&n(2,r=e.noteName),"content"in e&&n(0,s=e.content),"isContentChanged"in e&&n(3,l=e.isContentChanged)},[s,o,r,l,()=>{Ie(Re.NOTE_NAME_CHANGE,{})},e=>{Ie(Re.NOTE_AREA_STATUS_CHANGE,{status:e.type})},e=>{Ie(Re.NOTE_AREA_KEY_UP,{noteArea:e.target})},e=>{Ie(Re.NOTE_AREA_KEY_DOWN,e)},function(){s=this.value,n(0,s)}]}class nt extends Q{constructor(e){super(),F(this,e,tt,et,s,{show:1,noteName:2,content:0,isContentChanged:3})}}function ot(t){let n;return{c(){n=_("div"),O(n,"class","w-2-px h-25-px bg-tertiary")},m(e,t){h(e,n,t)},p:e,i:e,o:e,d(e){e&&$(n)}}}class rt extends Q{constructor(e){super(),F(this,e,null,ot,s,{})}}function st(e){let t;return{c(){t=b("path"),O(t,"fill","currentColor"),O(t,"fill-rule","evenodd"),O(t,"d","M13 4v6a1 1 0 0 0 1 1h6a1 1 0 0 1 0 2h-6a1 1 0 0 0-1 1v6a1 1 0 0 1-2 0v-6a1 1 0 0 0-1-1H4a1 1 0 0 1 0-2h6a1 1 0 0 0 1-1V4a1 1 0 0 1 2 0z")},m(e,n){h(e,t,n)},d(e){e&&$(t)}}}function lt(e){let t;return{c(){t=b("path"),O(t,"fill","currentColor"),O(t,"fill-rule","evenodd"),O(t,"d","M10 2a8 8 0 0 1 6.568 12.568l4.871 4.871a1.5 1.5 0 1 1-2.121 2.122l-4.894-4.895A8 8 0 1 1 10 2zm0 14a6 6 0 1 0 0-12 6 6 0 0 0 0 12z")},m(e,n){h(e,t,n)},d(e){e&&$(t)}}}function at(e){let t;return{c(){t=b("path"),O(t,"fill","currentColor"),O(t,"fill-rule","evenodd"),O(t,"d","M20.84 3.657a7 7 0 0 1-7.107 11.61l-3.38 3.38a1.38 1.38 0 0 1-.848.353h-2.01c-.28 0-.65.155-.843.347l-1.804 1.805c-.184.184-.573.348-.85.348l-2-.001 7.882-7.882a.5.5 0 0 0 .058-.637l-.058-.07a.5.5 0 0 0-.707 0l-8.166 8.165L1 20.994v-1.488c0-.275.16-.658.356-.844l7.983-7.585a7.001 7.001 0 0 1 11.501-7.42zm-1.414 1.415a5 5 0 1 0-7.07 7.07 5 5 0 0 0 7.07-7.07zm-.707.707a1.5 1.5 0 1 1-2.121 2.12 1.5 1.5 0 0 1 2.121-2.12z")},m(e,n){h(e,t,n)},d(e){e&&$(t)}}}function ct(e){let t;return{c(){t=b("path"),O(t,"fill","currentColor"),O(t,"fill-rule","evenodd"),O(t,"d","M12 1c6.075 0 11 4.925 11 11s-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1zm0 2a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm-.14 13.56c.75 0 1.345.575 1.345 1.308 0 .733-.594 1.318-1.346 1.318-.751 0-1.354-.585-1.354-1.318 0-.733.603-1.308 1.354-1.308zm.333-11.059c2.515 0 4.24 1.43 4.24 3.526 0 1.42-.705 2.393-1.967 3.145-1.215.705-1.512 1.15-1.586 1.995-.093.612-.408.992-1.04.992-.704 0-1.094-.5-1.094-1.178v-.176c0-1.15.575-1.911 1.735-2.598 1.15-.696 1.54-1.206 1.54-2.097 0-1.01-.789-1.716-1.93-1.716-1.03 0-1.716.51-2.013 1.447-.204.576-.547.807-1.057.807-.64 0-1.021-.39-1.021-1.01 0-.4.083-.743.26-1.096.575-1.261 2.022-2.04 3.933-2.04z")},m(e,n){h(e,t,n)},d(e){e&&$(t)}}}function it(e){let t,n,o,r;return t=new rt({}),o=new ze({props:{title:"Download",OnClick:e[5],$$slots:{default:[dt]},$$scope:{ctx:e}}}),{c(){V(t.$$.fragment),n=S(),V(o.$$.fragment)},m(e,s){Y(t,e,s),h(e,n,s),Y(o,e,s),r=!0},p(e,t){const n={};64&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n)},i(e){r||(K(t.$$.fragment,e),K(o.$$.fragment,e),r=!0)},o(e){q(t.$$.fragment,e),q(o.$$.fragment,e),r=!1},d(e){J(t,e),e&&$(n),J(o,e)}}}function dt(e){let t;return{c(){t=b("path"),O(t,"fill","currentColor"),O(t,"fill-rule","evenodd"),O(t,"d","M21 8a1 1 0 0 1 1 1v10a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V9a1 1 0 1 1 2 0v10a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V9a1 1 0 0 1 1-1zm-5.5 2a1.5 1.5 0 0 1 0 3h-7a1.5 1.5 0 0 1 0-3h7zM23 4a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h22z")},m(e,n){h(e,t,n)},d(e){e&&$(t)}}}function ut(e){let t,n,o,r,s,l,a,c,i,d,u,p,f,m,E,b;n=new ze({props:{title:"New Note",OnClick:e[1],$$slots:{default:[st]},$$scope:{ctx:e}}}),r=new rt({}),l=new ze({props:{title:"Search",OnClick:e[4],$$slots:{default:[lt]},$$scope:{ctx:e}}}),c=new rt({}),d=new ze({props:{title:"Signout",OnClick:e[3],$$slots:{default:[at]},$$scope:{ctx:e}}}),p=new rt({}),m=new ze({props:{title:"Help & Shortcuts",OnClick:e[2],$$slots:{default:[ct]},$$scope:{ctx:e}}});let N=e[0].id&&it(e);return{c(){t=_("div"),V(n.$$.fragment),o=S(),V(r.$$.fragment),s=S(),V(l.$$.fragment),a=S(),V(c.$$.fragment),i=S(),V(d.$$.fragment),u=S(),V(p.$$.fragment),f=S(),V(m.$$.fragment),E=S(),N&&N.c(),O(t,"class","flex justify-space-between align-center max-width fixed top-10 right-10 bg-white border-radius-25 p-t-5 p-b-5 p-l-20 p-r-20 badge-shadow")},m(e,$){h(e,t,$),Y(n,t,null),g(t,o),Y(r,t,null),g(t,s),Y(l,t,null),g(t,a),Y(c,t,null),g(t,i),Y(d,t,null),g(t,u),Y(p,t,null),g(t,f),Y(m,t,null),g(t,E),N&&N.m(t,null),b=!0},p(e,[o]){const r={};64&o&&(r.$$scope={dirty:o,ctx:e}),n.$set(r);const s={};64&o&&(s.$$scope={dirty:o,ctx:e}),l.$set(s);const a={};64&o&&(a.$$scope={dirty:o,ctx:e}),d.$set(a);const c={};64&o&&(c.$$scope={dirty:o,ctx:e}),m.$set(c),e[0].id?N?(N.p(e,o),1&o&&K(N,1)):(N=it(e),N.c(),K(N,1),N.m(t,null)):N&&(M(),q(N,1,1,(()=>{N=null})),B())},i(e){b||(K(n.$$.fragment,e),K(r.$$.fragment,e),K(l.$$.fragment,e),K(c.$$.fragment,e),K(d.$$.fragment,e),K(p.$$.fragment,e),K(m.$$.fragment,e),K(N),b=!0)},o(e){q(n.$$.fragment,e),q(r.$$.fragment,e),q(l.$$.fragment,e),q(c.$$.fragment,e),q(d.$$.fragment,e),q(p.$$.fragment,e),q(m.$$.fragment,e),q(N),b=!1},d(e){e&&$(t),J(n),J(r),J(l),J(c),J(d),J(p),J(m),N&&N.d()}}}function pt(e,t,n){let{selectedNote:o={}}=t;return e.$$set=e=>{"selectedNote"in e&&n(0,o=e.selectedNote)},[o,()=>{Ie(Re.NEW_NOTE,{})},()=>{Ie(Re.OPEN_POPUP,{popupName:"helpPopup"})},()=>{Ie(Re.USER_SIGNOUT,{})},()=>{Ie(Re.OPEN_POPUP,{popupName:"searchPopup"})},()=>{Ie(Re.DOWNLOAD_NOTE,{})}]}class ft extends Q{constructor(e){super(),F(this,e,pt,ut,s,{selectedNote:0})}}function mt(e){let t,n,o,r,s,l,a,c,d,m;const E=e[4].default,b=i(E,e,e[3],null);return d=new $e({props:{classes:"text-bold",onClick:e[2],label:e[1],type:"primary"}}),{c(){t=_("div"),n=_("div"),o=_("div"),r=_("div"),s=N(e[0]),l=S(),b&&b.c(),a=S(),c=_("div"),V(d.$$.fragment),O(r,"class","modal-header text-medium text-bold m-b-16"),O(c,"class","flex justify-center"),O(o,"class","modal-content relative p-t-32 p-r-32 p-b-32 p-l-32 height-100 bg-white text-primary"),O(n,"class","modal max-height text-primary absolute border-secondary bg-white border-radius-5 no-outline p-l-20 p-r-20 height-auto w-500-px max-h-85 svelte-1uyuz1"),O(t,"class","modal-container fixed svelte-1uyuz1")},m(e,i){h(e,t,i),g(t,n),g(n,o),g(o,r),g(r,s),g(o,l),b&&b.m(o,null),g(o,a),g(o,c),Y(d,c,null),m=!0},p(e,[t]){(!m||1&t)&&x(s,e[0]),b&&b.p&&(!m||8&t)&&p(b,E,e,e[3],m?u(E,e[3],t,null):f(e[3]),null);const n={};2&t&&(n.label=e[1]),d.$set(n)},i(e){m||(K(b,e),K(d.$$.fragment,e),m=!0)},o(e){q(b,e),q(d.$$.fragment,e),m=!1},d(e){e&&$(t),b&&b.d(e),J(d)}}}function gt(e,t,n){let{$$slots:o={},$$scope:r}=t,{header:s}=t,{closeLabel:l="Close"}=t;return e.$$set=e=>{"header"in e&&n(0,s=e.header),"closeLabel"in e&&n(1,l=e.closeLabel),"$$scope"in e&&n(3,r=e.$$scope)},[s,l,()=>{Ie(Re.CLOSE_POPUP,{})},r,o]}class ht extends Q{constructor(e){super(),F(this,e,gt,mt,s,{header:0,closeLabel:1})}}function $t(e,t,n){const o=e.slice();return o[23]=t[n],o}function Et(e,t,n){const o=e.slice();return o[26]=t[n],o}function _t(e){let t,n;return t=new ht({props:{header:"Search Notes",$$slots:{default:[St]},$$scope:{ctx:e}}}),{c(){V(t.$$.fragment)},m(e,o){Y(t,e,o),n=!0},p(e,n){const o={};536870968&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(K(t.$$.fragment,e),n=!0)},o(e){q(t.$$.fragment,e),n=!1},d(e){J(t,e)}}}function bt(e){let t;return{c(){t=_("div"),t.textContent="No Result Found!",O(t,"class","text-primary text-center width-100 text-bold")},m(e,n){h(e,t,n)},d(e){e&&$(t)}}}function Nt(e){let t,n;return t=new Ve({props:{note_name:e[26].title,note_id:e[26].id,type:"SEARCH"}}),{c(){V(t.$$.fragment)},m(e,o){Y(t,e,o),n=!0},p(e,n){const o={};32&n&&(o.note_name=e[26].title),32&n&&(o.note_id=e[26].id),t.$set(o)},i(e){n||(K(t.$$.fragment,e),n=!0)},o(e){q(t.$$.fragment,e),n=!1},d(e){J(t,e)}}}function St(e){let t,n,o,r,s;t=new me({props:{classes:"width-100 border-box",name:"search",type:"text",onKeyUp:e[7],placeholder:"Type here to search"}});let l=!1===e[4]&&e[3]&&bt(),a=e[5],c=[];for(let t=0;t<a.length;t+=1)c[t]=Nt(Et(e,a,t));const i=e=>q(c[e],1,1,(()=>{c[e]=null}));return{c(){V(t.$$.fragment),n=S(),l&&l.c(),o=S(),r=_("ul");for(let e=0;e<c.length;e+=1)c[e].c();O(r,"class","p-0 m-b-32 max-height overflow-auto")},m(e,a){Y(t,e,a),h(e,n,a),l&&l.m(e,a),h(e,o,a),h(e,r,a);for(let e=0;e<c.length;e+=1)c[e].m(r,null);s=!0},p(e,t){if(!1===e[4]&&e[3]?l||(l=bt(),l.c(),l.m(o.parentNode,o)):l&&(l.d(1),l=null),32&t){let n;for(a=e[5],n=0;n<a.length;n+=1){const o=Et(e,a,n);c[n]?(c[n].p(o,t),K(c[n],1)):(c[n]=Nt(o),c[n].c(),K(c[n],1),c[n].m(r,null))}for(M(),n=a.length;n<c.length;n+=1)i(n);B()}},i(e){if(!s){K(t.$$.fragment,e);for(let e=0;e<a.length;e+=1)K(c[e]);s=!0}},o(e){q(t.$$.fragment,e),c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)q(c[e]);s=!1},d(e){J(t,e),e&&$(n),l&&l.d(e),e&&$(o),e&&$(r),E(c,e)}}}function yt(e){let t,n;return t=new ht({props:{header:"Help",$$slots:{default:[Ot]},$$scope:{ctx:e}}}),{c(){V(t.$$.fragment)},m(e,o){Y(t,e,o),n=!0},p(e,n){const o={};536870913&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(K(t.$$.fragment,e),n=!0)},o(e){q(t.$$.fragment,e),n=!1},d(e){J(t,e)}}}function wt(e){let t,n,o,r,s,l,a,c=e[23].key+"",i=e[23].task+"";return{c(){t=_("li"),n=_("span"),o=N("Press "),r=_("span"),s=N(c),l=N(i),a=S(),O(r,"class","text-bold"),O(n,"class","p-t-5 p-b-5 p-l-20 p-r-20 border-solid-1 border-radius-25 bg-secondary badge-shadow"),O(t,"class","flex flex-column m-t-5 m-b-5")},m(e,c){h(e,t,c),g(t,n),g(n,o),g(n,r),g(r,s),g(n,l),g(t,a)},p(e,t){1&t&&c!==(c=e[23].key+"")&&x(s,c),1&t&&i!==(i=e[23].task+"")&&x(l,i)},d(e){e&&$(t)}}}function Ot(e){let t,n=e[0],o=[];for(let t=0;t<n.length;t+=1)o[t]=wt($t(e,n,t));return{c(){t=_("ul");for(let e=0;e<o.length;e+=1)o[e].c();O(t,"class","p-0 m-b-32 max-height overflow-auto")},m(e,n){h(e,t,n);for(let e=0;e<o.length;e+=1)o[e].m(t,null)},p(e,r){if(1&r){let s;for(n=e[0],s=0;s<n.length;s+=1){const l=$t(e,n,s);o[s]?o[s].p(l,r):(o[s]=wt(l),o[s].c(),o[s].m(t,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){e&&$(t),E(o,e)}}}function xt(e){let t,n,o,r,s,l,a,c,i;t=new Qe({props:{notes:e[1],selectedNote:e[2]}}),o=new nt({props:{noteName:e[2].title,show:e[2].id,content:e[2].content,isContentChanged:e[2].isContentChanged}}),s=new ft({props:{selectedNote:e[2]}});let d=e[6].searchPopup&&_t(e),u=e[6].helpPopup&&yt(e);return{c(){V(t.$$.fragment),n=S(),V(o.$$.fragment),r=S(),V(s.$$.fragment),l=S(),d&&d.c(),a=S(),u&&u.c(),c=y()},m(e,p){Y(t,e,p),h(e,n,p),Y(o,e,p),h(e,r,p),Y(s,e,p),h(e,l,p),d&&d.m(e,p),h(e,a,p),u&&u.m(e,p),h(e,c,p),i=!0},p(e,[n]){const r={};2&n&&(r.notes=e[1]),4&n&&(r.selectedNote=e[2]),t.$set(r);const l={};4&n&&(l.noteName=e[2].title),4&n&&(l.show=e[2].id),4&n&&(l.content=e[2].content),4&n&&(l.isContentChanged=e[2].isContentChanged),o.$set(l);const i={};4&n&&(i.selectedNote=e[2]),s.$set(i),e[6].searchPopup?d?(d.p(e,n),64&n&&K(d,1)):(d=_t(e),d.c(),K(d,1),d.m(a.parentNode,a)):d&&(M(),q(d,1,1,(()=>{d=null})),B()),e[6].helpPopup?u?(u.p(e,n),64&n&&K(u,1)):(u=yt(e),u.c(),K(u,1),u.m(c.parentNode,c)):u&&(M(),q(u,1,1,(()=>{u=null})),B())},i(e){i||(K(t.$$.fragment,e),K(o.$$.fragment,e),K(s.$$.fragment,e),K(d),K(u),i=!0)},o(e){q(t.$$.fragment,e),q(o.$$.fragment,e),q(s.$$.fragment,e),q(d),q(u),i=!1},d(e){J(t,e),e&&$(n),J(o,e),e&&$(r),J(s,e),e&&$(l),d&&d.d(e),e&&$(a),u&&u.d(e),e&&$(c)}}}function vt(e,t,n){let{helpItems:o}=t,r=[],s={id:"",title:"",content:"",isContentChanged:!1},l=!1,a=null,c=[],i=!1,d={searchPopup:!1,helpPopup:!1};C((()=>{var e;Pe(Re.SELECT_NOTE,u),Pe(Re.DELETE_NOTE,f),Pe(Re.NOTE_NAME_CHANGE,_),Pe(Re.NOTE_AREA_STATUS_CHANGE,b),Pe(Re.NOTE_AREA_KEY_DOWN,N),Pe(Re.NOTE_AREA_KEY_UP,S),Pe(Re.NEW_NOTE,m),Pe(Re.SAVE_NOTE,h),Pe(Re.USER_SIGNOUT,ee),Pe(Re.OPEN_POPUP,g),Pe(Re.CLOSE_POPUP,$),Pe(Re.CLOSE_POPUP,$),Pe(Re.DOWNLOAD_NOTE,y),Ie(Re.SHOW_SPINNER,{}),(e=te.currentUser.uid,fetch(ve.BASE_ENDPOINT+ve.ENDPOINTS.getAllNotes,{method:"POST",headers:{"X-User-Id":e},body:window.btoa(JSON.stringify({}))}).then((e=>e.json())).catch((e=>{window.quick_notes.config.debug_mode&&console.error("getAllNotes : ",e)}))).then((e=>{e&&e.data&&e.data.length?(n(1,r=e.data),r.forEach((e=>{_e[e.id]=e.content.replaceAll(ye,be).replaceAll(we,Ne).replaceAll(Oe,Se)})),n(2,s.id=r[0].id,s),n(2,s.title=r[0].title,s),n(2,s.content=_e[r[0].id],s),Ie(Re.HIDE_SPINNER,{})):Ie(Re.HIDE_SPINNER,{})})).catch((e=>{Ie(Re.SHOW_TOAST,{message:Te.GENERIC_ERROR_MSG}),Ie(Re.HIDE_SPINNER,{})}))}));const u=e=>{"SIDEBAR"===e.type?p(e):"SEARCH"===e.type&&E(e)},p=e=>{if(s.id&&s.id!==e.note_id&&s.isContentChanged){if(!confirm("Are you sure? Your current changes will not be saved!"))return}n(2,s={id:e.note_id,title:e.note_name,content:_e[e.note_id],isContentChanged:!1})},f=e=>{if(!window.confirm(`Are you sure you want to delete note : ${s.title} `))return;Ie(Re.SHOW_SPINNER,{});const t=e.id;var o,l;(o=t,l=te.currentUser.uid,fetch(ve.BASE_ENDPOINT+ve.ENDPOINTS.deleteNote,{method:"POST",headers:{"X-User-Id":l},body:window.btoa(JSON.stringify({id:o}))}).then((e=>e.json())).catch((e=>{window.quick_notes.config.debug_mode&&console.error("deleteNoteById : ",e)}))).then((e=>{e&&e.success?(n(1,r=r.filter((e=>e.id!==t))),n(1,r),n(2,s={id:"",title:"",content:"",isContentChanged:!1}),delete _e[t],Ie(Re.SHOW_TOAST,{message:Te.NOTE_DELETE_SUCEESS})):Ie(Re.SHOW_TOAST,{message:Te.GENERIC_ERROR_MSG}),Ie(Re.HIDE_SPINNER,{})})).catch((e=>{Ie(Re.SHOW_TOAST,{message:Te.GENERIC_ERROR_MSG}),Ie(Re.HIDE_SPINNER,{})}))},m=()=>{const e=prompt("Please enter note name");var t,o;e&&(Ie(Re.SHOW_SPINNER,{}),(t=e,o=te.currentUser.uid,fetch(ve.BASE_ENDPOINT+ve.ENDPOINTS.createNote,{method:"POST",headers:{"X-User-Id":o},body:window.btoa(JSON.stringify({name:t}))}).then((e=>e.json())).catch((e=>{window.quick_notes.config.debug_mode&&console.error("createNewNote : ",e)}))).then((t=>{if(t&&t.success&&t.data&&t.data.new_note_id){const o=t.data.new_note_id;r.push({id:o,title:e}),_e[o]="",n(2,s={id:o,title:e,content:_e[o],isContentChanged:!1}),n(1,r)}else Ie(Re.SHOW_TOAST,{message:Te.GENERIC_ERROR_MSG});Ie(Re.HIDE_SPINNER,{})})).catch((e=>{Ie(Re.SHOW_TOAST,{message:Te.GENERIC_ERROR_MSG}),Ie(Re.HIDE_SPINNER,{})})))},g=e=>{n(6,d[e.popupName]=!0,d)},h=()=>{Ie(Re.SHOW_SPINNER,{});const e=s.content.replaceAll(be,ye).replaceAll(Ne,we).replaceAll(Se,Oe);((e,t,n)=>fetch(ve.BASE_ENDPOINT+ve.ENDPOINTS.updateNoteContent,{method:"POST",headers:{"X-User-Id":n},body:window.btoa(JSON.stringify({id:e,content:t}))}).then((e=>e.json())).catch((e=>{window.quick_notes.config.debug_mode&&console.error("updateNoteContent : ",e)})))(s.id,e,te.currentUser.uid).then((e=>{e&&e.success?(_e[s.id]=s.content,Ie(Re.SHOW_TOAST,{message:Te.NOTE_SAVE_SUCCESS}),n(2,s.isContentChanged=!1,s)):Ie(Re.SHOW_TOAST,{message:Te.GENERIC_ERROR_MSG}),Ie(Re.HIDE_SPINNER,{})})).catch((e=>{Ie(Re.SHOW_TOAST,{message:Te.GENERIC_ERROR_MSG}),Ie(Re.HIDE_SPINNER,{})}))},$=()=>{for(let e in d)d[e]&&"searchPopup"===e&&(n(3,l=!1),n(4,a=null),n(5,c=[])),n(6,d[e]=!1,d)},E=e=>{if(s.id&&s.id!==e.note_id&&s.isContentChanged){if(!confirm("Are you sure? Your current changes will not be saved!"))return}n(2,s={id:e.note_id,title:e.note_name,content:_e[e.note_id],isContentChanged:!1}),$()},_=()=>{const e=prompt("Please enter note name",s.title);var t,o,l;e&&(Ie(Re.SHOW_SPINNER,{}),(t=s.id,o=e,l=firebase.auth().currentUser.uid,fetch(ve.BASE_ENDPOINT+ve.ENDPOINTS.updateNoteTitle,{method:"POST",headers:{"X-User-Id":l},body:window.btoa(JSON.stringify({id:t,name:o}))}).then((e=>e.json())).catch((e=>{window.quick_notes.config.debug_mode&&console.error("updateNoteTitle : ",e)}))).then((t=>{if(t&&t.success){n(2,s.title=e,s);for(let t=0;t<r.length;t++)if(r[t].id===s.id){n(1,r[t].title=e,r);break}Ie(Re.SHOW_TOAST,{message:Te.NOTE_SAVE_SUCCESS})}else Ie(Re.SHOW_TOAST,{message:Te.GENERIC_ERROR_MSG});Ie(Re.HIDE_SPINNER,{})})).catch((e=>{Ie(Re.SHOW_TOAST,{message:Te.GENERIC_ERROR_MSG}),Ie(Re.HIDE_SPINNER,{})})))};window.addEventListener("keyup",(e=>{if(e.altKey)if("s"!=e.key&&"S"!=e.key||!i)if("n"==e.key||"N"==e.key)m();else{if("f"!=e.key&&"F"!=e.key)return;openSearchPopup()}else h()}),!1),window.addEventListener("keydown",(e=>{!e.altKey||"s"!=e.key&&"S"!=e.key&&"f"!=e.key&&"F"!=e.key&&"n"!=e.key&&"N"!=e.key||e.preventDefault()}),!1);const b=e=>{i="focus"===e.status},N=e=>{const t=e.target;if("Tab"==e.key){e.preventDefault();const n=t.selectionStart,o=t.selectionEnd;t.value=t.value.substring(0,n)+"\t"+t.value.substring(o),t.selectionStart=t.selectionEnd=n+1}else if("Enter"===e.key){const o=t.selectionStart,r=t.value.split("\n"),l=t.value.substr(0,o).split("\n").length-1;if(r&&r.length&&l>-1){let a=r[l];a&&(e.ctrlKey?(a.indexOf(be)>-1&&a!==be?a=a.replace(be,Ne):a.indexOf(Ne)>-1&&a!==Ne&&(a=a.replace(Ne,be)),r[l]=a,t.value=r.join("\n"),t.setSelectionRange(o,o)):a.indexOf(be)>-1||a.indexOf(Ne)>-1?(e.preventDefault(),a!==be?n(2,s.content=s.content.slice(0,o)+"\n"+be+s.content.slice(o),s):a="",r[l]=a,t.value=r.join("\n"),a!==be?t.setSelectionRange(o,o):t.setSelectionRange(o-1,o-1)):a.indexOf(Se)>-1&&(e.preventDefault(),a!==Se?n(2,s.content=s.content.slice(0,o)+"\n"+Se+s.content.slice(o),s):a="",r[l]=a,t.value=r.join("\n"),a!==Se?t.setSelectionRange(o,o):t.setSelectionRange(o-1,o-1)))}}},S=e=>{n(2,s.content=e.noteArea.value,s),s.content!=_e[s.id]?n(2,s.isContentChanged=!0,s):n(2,s.isContentChanged=!1,s);const t=e.noteArea,o=t.selectionStart;if(s.content&&s.content.length>1&&s.content.substring(o-2,o)===Ee||"$$"===s.content.substring(o-2,o)){const e=t.value.split("\n"),r=t.value.substr(0,t.selectionStart).split("\n").length-1,l=s.content.substring(o-2,o)===Ee;if(e&&e.length&&r>-1){let a=e[r];a===Ee||"$$"===a?(n(2,s.content=s.content.slice(0,o-2)+(l?be:Se)+s.content.slice(o),s),t.setSelectionRange(o-1,o-1)):(n(2,s.content=s.content.slice(0,o-2)+"\n"+(l?be:Se)+s.content.slice(o),s),t.setSelectionRange(o,o))}}},y=()=>{const e=new Blob([s.content],{type:"text/plain"});let t=document.createElement("a");t.href=URL.createObjectURL(e),t.download=`${s.title}.txt`,document.body.appendChild(t),t.click(),URL.revokeObjectURL(e),document.body.removeChild(t)};return e.$$set=e=>{"helpItems"in e&&n(0,o=e.helpItems)},[o,r,s,l,a,c,d,e=>{const t=e.target.value;if(!t)return n(4,a=null),void n(5,c=[]);n(3,l=!0);const o=t.toLowerCase();n(5,c=r.filter((e=>{const t=e.title?e.title.toLowerCase():"",n=e.content?e.content.toLowerCase():"";return t&&t.indexOf(o)>-1||n&&n.indexOf(o)>-1}))),n(5,c),n(4,a=!!Number(c&&c.length))}]}class Tt extends Q{constructor(e){super(),F(this,e,vt,xt,s,{helpItems:0})}}function Ct(e){let t,n,o,r,s,l,a,c,i,d,u,p,f,m,E,b=e[1].key+"",y=e[1].task+"";return o=new ae({props:{classes:"m-l-4 m-r-4",src:"logo.svg",alt:"logo",type:"logo"}}),{c(){t=_("div"),n=_("div"),V(o.$$.fragment),r=S(),s=_("span"),s.textContent="Quick Notes",l=S(),a=_("br"),c=S(),i=_("div"),d=_("span"),u=N("Press "),p=_("span"),f=N(b),m=N(y),O(s,"class","text-medium text-primary text-boldest"),O(n,"class","flex align-center"),O(p,"class","bg-primary text-bold p-t-5 p-l-5 p-b-5 p-r-5 border-radius-5"),O(d,"class","p-t-5 p-b-5 p-l-20 p-r-20 border-radius-25 badge-shadow"),O(i,"class","flex flex-column"),O(t,"class","flex justify-center align-center fixed height-full width-full z-index-1 flex-column bg-white")},m(e,$){h(e,t,$),g(t,n),Y(o,n,null),g(n,r),g(n,s),g(t,l),g(t,a),g(t,c),g(t,i),g(i,d),g(d,u),g(d,p),g(p,f),g(d,m),E=!0},p(e,t){(!E||2&t)&&b!==(b=e[1].key+"")&&x(f,b),(!E||2&t)&&y!==(y=e[1].task+"")&&x(m,y)},i(e){E||(K(o.$$.fragment,e),E=!0)},o(e){q(o.$$.fragment,e),E=!1},d(e){e&&$(t),J(o)}}}function At(e){let t,n,o=e[0]&&Ct(e);return{c(){o&&o.c(),t=y()},m(e,r){o&&o.m(e,r),h(e,t,r),n=!0},p(e,[n]){e[0]?o?(o.p(e,n),1&n&&K(o,1)):(o=Ct(e),o.c(),K(o,1),o.m(t.parentNode,t)):o&&(M(),q(o,1,1,(()=>{o=null})),B())},i(e){n||(K(o),n=!0)},o(e){q(o),n=!1},d(e){o&&o.d(e),e&&$(t)}}}function Rt(e,t,n){let{show:o}=t,{helpItems:r}=t,s={key:"",task:""};return C((()=>{n(1,s=r[Math.floor(3*Math.random())])})),e.$$set=e=>{"show"in e&&n(0,o=e.show),"helpItems"in e&&n(2,r=e.helpItems)},[o,s,r]}class Pt extends Q{constructor(e){super(),F(this,e,Rt,At,s,{show:0,helpItems:2})}}function It(e){let t;return{c(){t=_("div"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: transaprent; display: block;" width="100px" height="100px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><defs><mask id="ldio-l94j0p085q-mask"><circle cx="50" cy="50" r="20" stroke="#fff" stroke-linecap="round" stroke-dasharray="94.24777960769379 31.41592653589793" stroke-width="9"><animateTransform attributeName="transform" type="rotate" values="0 50 50;360 50 50" times="0;1" dur="1s" repeatCount="indefinite"></animateTransform></circle></mask></defs><g mask="url(#ldio-l94j0p085q-mask)"><rect x="20.5" y="0" width="59" height="100" fill="#464646"><animate attributeName="fill" values="#464646" times="0" dur="1s" repeatCount="indefinite" begin="0s"></animate></rect></g></svg>',O(t,"class","flex justify-center align-center fixed height-full width-full z-index-1 flex-column ")},m(e,n){h(e,t,n)},d(e){e&&$(t)}}}function kt(t){let n,o=t[0]&&It();return{c(){o&&o.c(),n=y()},m(e,t){o&&o.m(e,t),h(e,n,t)},p(e,[t]){e[0]?o||(o=It(),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:e,o:e,d(e){o&&o.d(e),e&&$(n)}}}function Dt(e,t,n){let{show:o}=t;return e.$$set=e=>{"show"in e&&n(0,o=e.show)},[o]}class Ht extends Q{constructor(e){super(),F(this,e,Dt,kt,s,{show:0})}}function Ut(t){let n,o,r,s;return{c(){n=_("div"),o=_("div"),r=_("pre"),s=N(t[0]),O(r,"class","m-0"),O(o,"class","p-t-10 p-b-10 p-l-10 p-r-10 border-radius-5 flex align-center justify-space-between flex-row z-index-2 text-primary bg-primary"),O(n,"class","flex width-full justify-center absolute z-index-2 top-10")},m(e,t){h(e,n,t),g(n,o),g(o,r),g(r,s)},p(e,[t]){1&t&&x(s,e[0])},i:e,o:e,d(e){e&&$(n)}}}function Lt(e,t,n){let{msg:o}=t;return C((()=>{setTimeout((()=>{Ie(Re.HIDE_TOAST,{}),n(0,o="")}),2e3)})),e.$$set=e=>{"msg"in e&&n(0,o=e.msg)},[o]}class Wt extends Q{constructor(e){super(),F(this,e,Lt,Ut,s,{msg:0})}}function Gt(e){let t,n;return t=new Wt({props:{msg:e[0].message}}),{c(){V(t.$$.fragment)},m(e,o){Y(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.msg=e[0].message),t.$set(o)},i(e){n||(K(t.$$.fragment,e),n=!0)},o(e){q(t.$$.fragment,e),n=!1},d(e){J(t,e)}}}function jt(t){let n,o;return n=new We({}),{c(){V(n.$$.fragment)},m(e,t){Y(n,e,t),o=!0},p:e,i(e){o||(K(n.$$.fragment,e),o=!0)},o(e){q(n.$$.fragment,e),o=!1},d(e){J(n,e)}}}function zt(t){let n,o;return n=new Tt({props:{helpItems:Ce}}),{c(){V(n.$$.fragment)},m(e,t){Y(n,e,t),o=!0},p:e,i(e){o||(K(n.$$.fragment,e),o=!0)},o(e){q(n.$$.fragment,e),o=!1},d(e){J(n,e)}}}function Mt(e){let t,n,o,r,s,l,a,c,i,d=e[0].show&&Gt(e);o=new Pt({props:{show:e[2],helpItems:Ce}}),s=new Ht({props:{show:e[3]}});const u=[zt,jt],p=[];function f(e,t){return e[1]?0:null===e[1]?1:-1}return~(a=f(e))&&(c=p[a]=u[a](e)),{c(){t=_("main"),d&&d.c(),n=S(),V(o.$$.fragment),r=S(),V(s.$$.fragment),l=S(),c&&c.c()},m(e,c){h(e,t,c),d&&d.m(t,null),g(t,n),Y(o,t,null),g(t,r),Y(s,t,null),g(t,l),~a&&p[a].m(t,null),i=!0},p(e,[r]){e[0].show?d?(d.p(e,r),1&r&&K(d,1)):(d=Gt(e),d.c(),K(d,1),d.m(t,n)):d&&(M(),q(d,1,1,(()=>{d=null})),B());const l={};4&r&&(l.show=e[2]),o.$set(l);const i={};8&r&&(i.show=e[3]),s.$set(i);let m=a;a=f(e),a===m?~a&&p[a].p(e,r):(c&&(M(),q(p[m],1,1,(()=>{p[m]=null})),B()),~a?(c=p[a],c?c.p(e,r):(c=p[a]=u[a](e),c.c()),K(c,1),c.m(t,null)):c=null)},i(e){i||(K(d),K(o.$$.fragment,e),K(s.$$.fragment,e),K(c),i=!0)},o(e){q(d),q(o.$$.fragment,e),q(s.$$.fragment,e),q(c),i=!1},d(e){e&&$(t),d&&d.d(),J(o),J(s),~a&&p[a].d()}}}function Bt(e,t,n){let o,r={message:"",show:!1},s=!0,l=!1;const a=()=>{n(2,s=!1),n(2,s)},c=()=>{n(3,l=!0),n(3,l)},i=()=>{n(3,l=!1),n(3,l)};te.onAuthStateChanged((e=>{e&&e.uid?setTimeout((()=>{a(),n(1,o=e),n(0,r.message="Logged in Successfully",r),n(0,r.show=!0,r)}),1e3):(a(),n(1,o=null))}));const d=()=>{n(0,r.message="",r),n(0,r.show=!1,r)},u=e=>{n(0,r.message=e.message,r),n(0,r.show=!0,r)};return C((()=>{Pe(Re.SHOW_SPINNER,c),Pe(Re.HIDE_SPINNER,i),Pe(Re.SHOW_TOAST,u),Pe(Re.HIDE_TOAST,d),window?.quick_notes?.config||(window.quick_notes={config:{debug_mode:!1}})})),[r,o,s,l]}return new class extends Q{constructor(e){super(),F(this,e,Bt,Mt,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
